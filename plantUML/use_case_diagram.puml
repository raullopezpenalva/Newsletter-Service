@startuml use_case_diagram
left to right direction
skinparam packageStyle rectangle

actor "Anonymous User" as Anonymous
actor "Registered User" as Registered
control "Email Sending System" as EmailSystem
actor "Administrator" as Admin

package "Newsletter Service" {
    usecase "Subscribe to newsletter" as UC_Subscribe
    usecase "Confirm subscription" as UC_Verify
    usecase "View unsubscribe form" as UC_UnsubPage
    usecase "Confirm unsubscribe with reason" as UC_UnsubConfirm
    usecase "Get personalized unsubscribe link" as UC_GenUnsubLink
    usecase "View subscriber list" as UC_ListSubscribers
    usecase "View subscriber metrics" as UC_Stats
}

' Relationships
Anonymous --> UC_Subscribe
Anonymous --> UC_Verify
Anonymous --> UC_UnsubPage
Anonymous --> UC_UnsubConfirm

Registered --> UC_Subscribe : via userCreated=true
Registered --> UC_UnsubPage
Registered --> UC_UnsubConfirm

EmailSystem --> UC_GenUnsubLink

Admin --> UC_ListSubscribers
Admin --> UC_Stats

@enduml
